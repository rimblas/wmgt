---
# ====== Page: View Results ==================================
id: 60
identification: 
  name: View Results
  alias: VIEW-RESULTS
  title: View Results

appearance: 
  page-mode: Normal
  page-template: Theme Default
  template-options: 
  - '#DEFAULT#'

navigation-menu: 
  override-user-interface-level: true
  list: Tournament Options # 55884590206608414057
  list-position: Top
  list-template: Top Navigation Tabs # 46986647224831702467
  template-options: 
  - '#DEFAULT#'
  - t-NavTabs--inlineLabels-lg
  - t-NavTabs--displayLabels-sm

navigation: 
  cursor-focus: Do not focus cursor
  warn-on-unsaved-changes: false

css: 
  file-urls: 
  - '#APP_FILES#css/week-lov#MIN#.css'
  - //emoji-css.afeld.me/emoji.css
  inline: |
    @media (max-width: 640px) {
    
        :root {
            --ut-report-cell-padding-y:.2rem;
            --ut-report-cell-padding-x:.4rem;
    
        }
    }
    
    @media (max-width: 639px) {
      #POS, td[headers="POS"] {
           --ut-report-cell-padding-x: .4rem;
           --ut-report-header-cell-padding-x: .2rem;
      }
      #COUNTRY_CODE, td[headers="COUNTRY_CODE"] {
           --ut-report-cell-padding-x: .4rem;
           --ut-report-header-cell-padding-x: .1rem;
      }
    }
    
    .points {
        color: white;
        font-weight: 700;
    }
    .top {
        background-color: hsl(220deg 100% 39%);
    }
    .p10 {
        background-color: hsl(220deg 100% 43%);
    }
    .p9 {
        background-color: hsl(220deg 100% 48%);
    }
    .p8 {
        background-color: hsl(220deg 100% 55%);
    }
    .p7 {
        background-color: hsl(220deg 100% 61%);
    }
    .p6 {
        background-color: hsl(220deg 100% 67%);
    }
    .p5 {
        background-color: hsl(220deg 100% 73%);
    }
    .p4 {
        background-color: hsl(220deg 100% 79%);
    }
    .p3 {
        background-color: hsl(220deg 100% 85%);
    }
    .p2 {
        background-color: hsl(220deg 100% 91%);
    }
    .p1 {
        background-color: hsl(220deg 100% 95%);
    }
    

security: 
  authentication: Page Is Public

advanced: 
  enable-meta-tags: false

security: 
  deep-linking: Application Default
  page-access-protection: Unrestricted
  form-auto-complete: Off
  browser-cache: Application Default

session-management: 
  rejoin-sessions: Application Default

advanced: 
  enable-duplicate-page-submissions: Yes - Enable page to be re-posted
  reload-on-submit: Only for Success

server-cache: 
  caching: Disabled

regions: 
- # ====== Region: Season &P60_TOURNAMENT. Race ================
  id: 4008199353738099
  identification: 
    title: Season &P60_TOURNAMENT. Race
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      with sessions_pivot as (
          select player_id
               , max(w1_points)        w1_points
               , max(w1_session_date)  w1_session_date
               , max(w2_points)        w2_points
               , max(w2_session_date)  w2_session_date
               , max(w3_points)        w3_points
               , max(w3_session_date)  w3_session_date
               , max(w4_points)        w4_points
               , max(w4_session_date)  w4_session_date
               , max(w5_points)        w5_points
               , max(w5_session_date)  w5_session_date
               , max(w6_points)        w6_points
               , max(w6_session_date)  w6_session_date
               , max(w7_points)        w7_points
               , max(w7_session_date)  w7_session_date
               , max(w8_points)        w8_points
               , max(w8_session_date)  w8_session_date
               , max(w9_points)        w9_points
               , max(w9_session_date)  w9_session_date
               , max(w10_points)       w10_points
               , max(w10_session_date) w10_session_date
               , max(w11_points)       w11_points
               , max(w11_session_date) w11_session_date
               , max(w12_points)       w12_points
               , max(w12_session_date) w12_session_date
          from (
          select p.player_id
               , p.points
               , p.discarded_points_flag
               , ts.tournament_id
               , ts.round_num
               , ts.week
               , ts.session_date
      --         , sum(case when p.discarded_points_flag = 'Y' then 0 else p.points end) season_total
          from wmg_tournament_sessions ts
             , wmg_tournament_players p
          where ts.id = p.tournament_session_id
            and ts.tournament_id in (
              select id
              from wmg_tournaments
             where current_flag = 'Y'
          )
          order by ts.session_date
          )
          pivot (
              any_value(tournament_id) tournament_id
            , any_value(round_num)    round_num
            , any_value(week)         week_num
            , any_value(session_date) session_date
            , any_value(points)       points
            for round_num in (
                1 as W1
              , 2 as W2
              , 3 as W3
              , 4 as W4
              , 5 as W5
              , 6 as W6
              , 7 as W7
              , 8 as W8
              , 9 as W9
              , 10 as W10
              , 11 as W11
              , 12 as W12
            )
          )
          group by player_id
      )
      select rank() over (order by r.season_total desc) pos
           , r.player_id
           , r.player_name
           , r.country_code
           , r.season_total
           , r.w1_points
           , r.w2_points
           , r.w3_points
           , r.w4_points
           , r.w5_points
           , r.w6_points
           , r.w7_points
           , r.w8_points
           , r.w9_points
           , r.w10_points
           , r.w11_points
           , r.w12_points
        from (
      	select p.name player_name, p.country_code
      	   ,   nvl(sp.w1_points,0)
      	     + nvl(sp.w2_points,0)
      	     + nvl(sp.w3_points,0)
      	     + nvl(sp.w4_points,0)
      	     + nvl(sp.w5_points,0)
      	     + nvl(sp.w6_points,0)
      	     + nvl(sp.w7_points,0)
      	     + nvl(sp.w8_points,0)
      	     + nvl(sp.w9_points,0)
      	     + nvl(sp.w10_points,0)
      	     + nvl(sp.w11_points,0)
      	     + nvl(sp.w12_points,0) season_total
      	   , sp.*
      	from sessions_pivot sp
      	    , wmg_players p
      	where p.id = sp.player_id
      ) r
      order by 5 desc
    page-items-to-submit: 
    - P60_WEEK

  layout: 
    sequence: 40
    parent-region: No Parent
    position: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard # 46986580184360702438
    template-options: 
    - '#DEFAULT#'
    - t-Region--noPadding
    - js-showMaximizeButton
    - t-Region--scrollBody
    - margin-left-md
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 250

    appearance: 
      template-type: Theme
      template: Standard # 46986618016296702453
      template-options: 
      - '#DEFAULT#'
      - t-Report--staticRowColors
      - t-Report--rowHighlightOff
      - t-Report--verticalBorders
      - t-Report--hideNoPagination

    pagination: 
      type: Row Ranges X to Y of Z (no pagination)
      display-position: Bottom - Right
      partial-page-refresh: true

    performance: 
      lazy-loading: false

    messages: 
      when-no-data-found: '- No scores yet -'

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: false
      sort-nulls: Last

    heading: 
      type: PL/SQL Function Body
      pl/sql-function-body: |
        declare 
          l_headings varchar2(32767);
        begin
        
        select listagg('W' || round_num ||'<br>'|| to_char(session_date, 'MM/DD'), ':') within group (order by session_date)
        into l_headings
        from (
            select ts.tournament_id
                 , ts.round_num
                 , ts.week
                 , ts.session_date
            from wmg_tournament_sessions ts
            where ts.tournament_id in (
                select id
                from wmg_tournaments
               where current_flag = 'Y'
            )
        );
        
          return 'Rank:<i class="fa fa-flag-o"></i>:Player:Season<br>Total:' || l_headings;
        end;
         
        

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: PLAYER_NAME =================================
    id: 4008524835738102
    identification: 
      column-name: PLAYER_NAME
      type: Link

    heading: 
      heading: Player
      alignment: center

    layout: 
      sequence: 40
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    link: 
      target: 
        url: 'f?p=&APP_ID.:120:&SESSION.::&DEBUG.:120:P120_WEEK,P120_PLAYER_ID:&P60_WEEK.,#PLAYER_ID#'
        page: 120 # Player Highlights
        clear-cache: 120
        values: 
          p120_week: '&P60_WEEK.'
          p120_player_id: '#PLAYER_ID#'

      link-text: '#PLAYER_NAME#'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: COUNTRY_CODE ================================
    id: 4009195466738109
    identification: 
      column-name: COUNTRY_CODE
      type: Plain Text

    heading: 
      heading: <i class="fa fa-flag-o"></i>
      alignment: center

    layout: 
      sequence: 20
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    column-formatting: 
      html-expression: '<i class="em em-flag-#COUNTRY_CODE#" aria-label="Flag #COUNTRY_CODE#"></i>'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: W1_POINTS ===================================
    id: 6010103427197108
    identification: 
      column-name: W1_POINTS
      type: Plain Text

    heading: 
      heading: W1 Points
      alignment: center

    layout: 
      sequence: 60
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: W2_POINTS ===================================
    id: 6010569268197112
    identification: 
      column-name: W2_POINTS
      type: Plain Text

    heading: 
      heading: W2 Points
      alignment: center

    layout: 
      sequence: 70
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: W3_POINTS ===================================
    id: 6010904877197116
    identification: 
      column-name: W3_POINTS
      type: Plain Text

    heading: 
      heading: W3 Points
      alignment: center

    layout: 
      sequence: 80
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: W4_POINTS ===================================
    id: 6011332026197120
    identification: 
      column-name: W4_POINTS
      type: Plain Text

    heading: 
      heading: W4 Points
      alignment: center

    layout: 
      sequence: 90
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 4

    security: 
      escape-special-characters: true

  - # ====== Column: W5_POINTS ===================================
    id: 7606033475066874
    identification: 
      column-name: W5_POINTS
      type: Plain Text

    heading: 
      heading: W5 Points
      alignment: center

    layout: 
      sequence: 100
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 5

    security: 
      escape-special-characters: true

  - # ====== Column: POS =========================================
    id: 7606396955066878
    identification: 
      column-name: POS
      type: Plain Text

    heading: 
      heading: Rank
      alignment: center

    layout: 
      sequence: 10
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: SEASON_TOTAL ================================
    id: 7606570538066879
    identification: 
      column-name: SEASON_TOTAL
      type: Plain Text

    heading: 
      heading: Season Total
      alignment: center

    layout: 
      sequence: 50
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: W6_POINTS ===================================
    id: 7606581763066880
    identification: 
      column-name: W6_POINTS
      type: Plain Text

    heading: 
      heading: W6 Points
      alignment: center

    layout: 
      sequence: 110
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 6

    security: 
      escape-special-characters: true

  - # ====== Column: W7_POINTS ===================================
    id: 7606739235066881
    identification: 
      column-name: W7_POINTS
      type: Plain Text

    heading: 
      heading: W7 Points
      alignment: center

    layout: 
      sequence: 120
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 7

    security: 
      escape-special-characters: true

  - # ====== Column: W8_POINTS ===================================
    id: 7606808504066882
    identification: 
      column-name: W8_POINTS
      type: Plain Text

    heading: 
      heading: W8 Points
      alignment: center

    layout: 
      sequence: 130
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 8

    security: 
      escape-special-characters: true

  - # ====== Column: W9_POINTS ===================================
    id: 7606942304066883
    identification: 
      column-name: W9_POINTS
      type: Plain Text

    heading: 
      heading: W9 Points
      alignment: center

    layout: 
      sequence: 140
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 9

    security: 
      escape-special-characters: true

  - # ====== Column: W10_POINTS ==================================
    id: 7607003136066884
    identification: 
      column-name: W10_POINTS
      type: Plain Text

    heading: 
      heading: W10 Points
      alignment: center

    layout: 
      sequence: 150
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 10

    security: 
      escape-special-characters: true

  - # ====== Column: W11_POINTS ==================================
    id: 7607116903066885
    identification: 
      column-name: W11_POINTS
      type: Plain Text

    heading: 
      heading: W11 Points
      alignment: center

    layout: 
      sequence: 160
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 111

    security: 
      escape-special-characters: true

  - # ====== Column: W12_POINTS ==================================
    id: 7607268166066886
    identification: 
      column-name: W12_POINTS
      type: Plain Text

    heading: 
      heading: W12 Points
      alignment: center

    layout: 
      sequence: 170
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select 1
        from wmg_tournament_sessions ts
        where ts.tournament_id in (
            select id
            from wmg_tournaments
           where current_flag = 'Y'
        )
        and ts.round_num = 12

    security: 
      escape-special-characters: true

  - # ====== Column: PLAYER_ID ===================================
    id: 7607463446066888
    identification: 
      column-name: PLAYER_ID
      type: Hidden Column

    layout: 
      sequence: 180

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

- # ====== Region: Most h1n Current Season =====================
  id: 24454464806256734671
  identification: 
    title: Most h1n Current Season
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      select r.*, rank() over (order by r.hn1 desc) pos
      from (
          select substr(r.week,1,3) season
           , p.account
           , sum(r.score) hn1
        from wmg_rounds_unpivot_mv r
           , wmg_players p
           , wmg_courses_v c
      where r.player_id = p.id
      and c.course_id = r.course_id
      and r.score = 1
       and r.week like 'S08%'
      group by substr(r.week,1,3)
      , p.account
      order by 3 desc
      ) r
      

  layout: 
    sequence: 20
    parent-region: Other Results # 108296151279429485789
    position: SUB_REGIONS
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard # 46986580184360702438
    template-options: 
    - '#DEFAULT#'
    - t-Region--scrollBody
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 10

    appearance: 
      template-type: Theme
      template: Standard # 46986618016296702453
      template-options: 
      - '#DEFAULT#'
      - t-Report--stretch
      - t-Report--altRowsDefault
      - t-Report--rowHighlight

    pagination: 
      type: Row Ranges X to Y (with next and previous links)
      display-position: Bottom - Right
      partial-page-refresh: true

    performance: 
      lazy-loading: false

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: false
      sort-nulls: Last

    heading: 
      type: Custom Headings

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: SEASON ======================================
    id: 3562267189798417
    identification: 
      column-name: SEASON
      type: Plain Text

    heading: 
      heading: Season
      alignment: center

    layout: 
      sequence: 20
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: ACCOUNT =====================================
    id: 3562607750798418
    identification: 
      column-name: ACCOUNT
      type: Plain Text

    heading: 
      heading: Account
      alignment: center

    layout: 
      sequence: 30
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: HN1 =========================================
    id: 3563004705798418
    identification: 
      column-name: HN1
      type: Plain Text

    heading: 
      heading: Hn1
      alignment: center

    layout: 
      sequence: 40
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: POS =========================================
    id: 3563418929798419
    identification: 
      column-name: POS
      type: Plain Text

    heading: 
      heading: Pos
      alignment: center

    layout: 
      sequence: 10
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

- # ====== Region: Most h1n Over the last &P60_TOTAL_WEEKS. week
  id: 24454469853035807099
  identification: 
    title: Most h1n Over the last &P60_TOTAL_WEEKS. weeks
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      select r.*, rank() over (order by r.hn1 desc) pos
      from (
      select p.account
           , sum(r.score) hn1
        from wmg_rounds_unpivot_mv r
           , wmg_players p
           , wmg_courses_v c
      where r.player_id = p.id
      and c.course_id = r.course_id
      and r.score = 1
      -- r.week like 'S07%'
      group by p.account
      order by 2 desc
      ) r

  layout: 
    sequence: 20
    parent-region: Other Results # 108296151279429485789
    position: SUB_REGIONS
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard # 46986580184360702438
    template-options: 
    - '#DEFAULT#'
    - t-Region--scrollBody
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 10

    appearance: 
      template-type: Theme
      template: Standard # 46986618016296702453
      template-options: 
      - '#DEFAULT#'
      - t-Report--stretch
      - t-Report--altRowsDefault
      - t-Report--rowHighlight

    pagination: 
      type: Row Ranges X to Y (with next and previous links)
      display-position: Bottom - Right
      partial-page-refresh: true

    performance: 
      lazy-loading: false

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: false
      sort-nulls: Last

    heading: 
      type: Custom Headings

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: ACCOUNT =====================================
    id: 3566697085870831
    identification: 
      column-name: ACCOUNT
      type: Plain Text

    heading: 
      heading: Account
      alignment: center

    layout: 
      sequence: 20
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: HN1 =========================================
    id: 3567094941870832
    identification: 
      column-name: HN1
      type: Plain Text

    heading: 
      heading: Hn1
      alignment: center

    layout: 
      sequence: 30
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: POS =========================================
    id: 3567489763870832
    identification: 
      column-name: POS
      type: Plain Text

    heading: 
      heading: Pos
      alignment: center

    layout: 
      sequence: 10
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

- # ====== Region: {items} =====================================
  id: 106623657478402405520
  identification: 
    title: '{items}'
    type: Static Content

  layout: 
    sequence: 20
    parent-region: No Parent
    position: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Blank with Attributes # 46986519704134702414
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: itemsRegion
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Week &P60_WEEK. Results =====================
  id: 108296150341164485780
  identification: 
    title: Week &P60_WEEK. Results
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      with score_points as (
          select 1 rank, 25 points, 'top' point_class from dual union all
          select 2 rank, 21 points, 'top' point_class from dual union all
          select 3 rank, 18 points, 'top' point_class from dual union all
          select 4 rank, 16 points, 'top' point_class from dual union all
          select 5 rank, 15 points, 'top' point_class from dual union all
          select 6 rank, 14 points, 'top' point_class from dual union all
          select 7 rank, 13 points, 'top' point_class from dual union all
          select 8 rank, 12 points, 'top' point_class from dual union all
          select 9 rank, 11 points, 'top' point_class from dual union all
          select 10 rank, 10 points, 'p10' point_class from dual union all
          select 11 rank,  9 points, 'p9' point_class from dual union all
          select 12 rank,  9 points, 'p9' point_class from dual union all
          select 13 rank,  9 points, 'p9' point_class from dual union all
          select 14 rank,  9 points, 'p9' point_class from dual union all
          select 15 rank,  9 points, 'p9' point_class from dual union all
          select 16 rank,  9 points, 'p9' point_class from dual union all
          select 17 rank,  9 points, 'p9' point_class from dual union all
          select 18 rank,  9 points, 'p9' point_class from dual union all
          select 19 rank,  9 points, 'p9' point_class from dual union all
          select 20 rank,  8 points, 'p8' point_class from dual union all
          select 21 rank,  8 points, 'p8' point_class from dual union all
          select 22 rank,  8 points, 'p8' point_class from dual union all
          select 23 rank,  8 points, 'p8' point_class from dual union all
          select 24 rank,  8 points, 'p8' point_class from dual union all
          select 25 rank,  8 points, 'p8' point_class from dual union all
          select 26 rank,  8 points, 'p8' point_class from dual union all
          select 27 rank,  8 points, 'p8' point_class from dual union all
          select 28 rank,  8 points, 'p8' point_class from dual union all
          select 29 rank,  7 points, 'p7' point_class from dual union all
          select 30 rank,  7 points, 'p7' point_class from dual union all
          select 31 rank,  7 points, 'p7' point_class from dual union all
          select 32 rank,  7 points, 'p7' point_class from dual union all
          select 33 rank,  7 points, 'p7' point_class from dual union all
          select 34 rank,  7 points, 'p7' point_class from dual union all
          select 35 rank,  7 points, 'p7' point_class from dual
      )
      select r.player_id, r.player_name, r.country_code, r.easy, r.hard, r.total_score, r.pos
           , p.points
           , p.point_class
           , decode(r.player_id, :G_PLAYER_ID, 'mark', '') selected_player
      from (
          select r.player_id, r.player_name, r.country_code, r.easy, r.hard, r.total_score, rank() over (order by r.total_score) pos
          from (
            select player_id, player_name, country_code, easy, hard, easy + hard total_score
            from (
              select r.player_id, r.player_name, r.country_code
                   , r.under_par
                   , c.course_mode
                from wmg_rounds_v r, wmg_courses c
              where r.course_id = c.id
                 and r.week = :P60_WEEK
              )
             pivot (
               sum(under_par) for course_mode in (
                'E' EASY, 'H' HARD
               )
              )
          ) r
      ) r
      , score_points p
      where r.pos = p.rank (+)
      order by r.pos, r.player_name
      
    page-items-to-submit: 
    - P60_WEEK

  layout: 
    sequence: 20
    parent-region: No Parent
    position: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 4
    column-css-classes: 
    - col-sm-12
    - col-md-12

  appearance: 
    template: Standard # 46986580184360702438
    template-options: 
    - '#DEFAULT#'
    - t-Region--noPadding
    - t-Region--scrollBody
    - margin-left-none
    - margin-right-none
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 250

    appearance: 
      template-type: Theme
      template: Standard # 46986618016296702453
      template-options: 
      - '#DEFAULT#'
      - t-Report--stretch
      - t-Report--staticRowColors
      - t-Report--rowHighlightOff
      - t-Report--verticalBorders
      - t-Report--hideNoPagination

    pagination: 
      type: Row Ranges X to Y of Z (no pagination)
      display-position: Bottom - Right
      partial-page-refresh: true

    performance: 
      lazy-loading: false

    messages: 
      when-no-data-found: '- No scores yet -'

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: false
      sort-nulls: Last

    heading: 
      type: Custom Headings

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: COUNTRY_CODE ================================
    id: 610831107572885
    identification: 
      column-name: COUNTRY_CODE
      type: Plain Text

    heading: 
      heading: <span aria-hidden="true" class="fa fa-flag-o"></span>
      alignment: center

    layout: 
      sequence: 30
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    column-formatting: 
      html-expression: '<i class="em em-flag-#COUNTRY_CODE#" aria-role="presentation" aria-label="Flag #COUNTRY_CODE#" title="#COUNTRY_CODE#"></i>'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: SELECTED_PLAYER =============================
    id: 4007494937738092
    identification: 
      column-name: SELECTED_PLAYER
      type: Hidden Column

    layout: 
      sequence: 100

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: POINT_CLASS =================================
    id: 2316752978009093644
    identification: 
      column-name: POINT_CLASS
      type: Hidden Column

    layout: 
      sequence: 90

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: EASY ========================================
    id: 56015646459290939744
    identification: 
      column-name: EASY
      type: Plain Text

    heading: 
      heading: Easy
      alignment: center

    layout: 
      sequence: 50
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: HARD ========================================
    id: 56015646566524939745
    identification: 
      column-name: HARD
      type: Plain Text

    heading: 
      heading: Hard
      alignment: center

    layout: 
      sequence: 60
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: POINTS ======================================
    id: 56015646844134939748
    identification: 
      column-name: POINTS
      type: Plain Text

    heading: 
      heading: Points
      alignment: center

    layout: 
      sequence: 80
      column-alignment: center

    accessibility: 
      value-identifies-row: false

    column-formatting: 
      html-expression: '<span class="points #POINT_CLASS#">#POINTS#</span>'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: TOTAL_SCORE =================================
    id: 58990500980275709187
    identification: 
      column-name: TOTAL_SCORE
      type: Plain Text

    heading: 
      heading: Total
      alignment: center

    layout: 
      sequence: 70
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: PLAYER_NAME =================================
    id: 58990501368565709188
    identification: 
      column-name: PLAYER_NAME
      type: Link

    heading: 
      heading: Player
      alignment: center

    layout: 
      sequence: 40
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    link: 
      target: 
        url: 'f?p=&APP_ID.:110:&SESSION.::&DEBUG.:110:P110_WEEK,P110_PLAYER_ID:&P60_WEEK.,#PLAYER_ID#'
        page: 110 # Player Round Details
        clear-cache: 110
        values: 
          p110_week: '&P60_WEEK.'
          p110_player_id: '#PLAYER_ID#'

      link-text: '#PLAYER_NAME#'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: POS =========================================
    id: 58990501734129709188
    identification: 
      column-name: POS
      type: Plain Text

    heading: 
      heading: Rank
      alignment: center

    layout: 
      sequence: 10
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    column-formatting: 
      html-expression: <span class="#SELECTED_PLAYER#">#POS#</span>

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: PLAYER_ID ===================================
    id: 58990502191049709188
    identification: 
      column-name: PLAYER_ID
      type: Hidden Column

    layout: 
      sequence: 20

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

- # ====== Region: Other Results ===============================
  id: 108296151279429485789
  identification: 
    title: Other Results
    type: Static Content

  layout: 
    sequence: 50
    parent-region: No Parent
    position: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard # 46986580184360702438
    template-options: 
    - '#DEFAULT#'
    - t-Region--noPadding
    - t-Region--scrollBody
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: itemsRegion
    region-display-selector: true
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

page-items: 
- # ====== Page Item: P60_TOTAL_WEEKS ==========================
  id: 3567903596870837
  identification: 
    name: P60_TOTAL_WEEKS
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 10
    region: Most h1n Over the last &P60_TOTAL_WEEKS. weeks # 24454469853035807099
    position: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_TOURNAMENT ===========================
  id: 7607662932066890
  identification: 
    name: P60_TOURNAMENT
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 90
    region: '{items}' # 106623657478402405520
    position: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_WEEK =================================
  id: 58990481012454704231
  identification: 
    name: P60_WEEK
    type: Popup LOV

  label: 
    label: Week
    alignment: Left

  settings: 
    display-as: Inline Popup
    initial-fetch: Automatic
    multiple-values: false
    manual-entry: false
    search-as-you-type: false

  layout: 
    sequence: 10
    region: '{items}' # 106623657478402405520
    position: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 2
    label-column-span: Page Template Default
    column-css-classes: 
    - col-xss-6
    - col-xs-6
    - col-sm-6
    - col-md-6
    - col-lg-3

  appearance: 
    template: Optional - Floating # 46986650580145702469
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false

  list-of-values: 
    type: Shared Component
    list-of-values: WEEKS # 41195241672950310216
    display-extra-values: true
    display-null-value: true

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Session (Persistent)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

  advanced: 
    initialization-javascript-function: |
      function(options) {
          options.display = "list";
      
          options.recordTemplate = (
        '<li data-id="~WEEK.">' +
           '<div class="content-list">' +
              '<div class="week-info-list">' +
                 '<span class="season-name">~SEASON.</span>' +                    
                 '<span class="week-name">Week ~WEEK_NO.</span>' +
                 '<hr>' +
                 '<div class="courses">' +
                   '<span class="easy">~EASY_COURSE.</span>' + ' & ' +
                   '<span class="hard">~HARD_COURSE.</span>' +
                 '</div>' +
              '</div>' +
           '</div>'+
        '</li>').replace(/~/g, "&");
      
          return options;
      }

- # ====== Page Item: P60_TOTAL_PLAYERS ========================
  id: 58990481446347704231
  identification: 
    name: P60_TOTAL_PLAYERS
    type: Display Only

  label: 
    label: Total Players
    alignment: Left

  settings: 
    format: Plain Text
    based-on: Item Value
    show-line-breaks: true
    send-on-page-submit: true

  layout: 
    sequence: 20
    region: '{items}' # 106623657478402405520
    position: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 2
    label-column-span: Page Template Default
    column-css-classes: 
    - col-xss-6
    - col-xs-6
    - col-sm-6
    - col-md-6
    - col-lg-3

  appearance: 
    template: Optional - Floating # 46986650580145702469
    template-options: 
    - '#DEFAULT#'
    css-classes: 
    - u-textCenter

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: SQL Query (return single value)
    sql-query: |
      select count(distinct players_id)
              from wmg_rounds 
             where week = :P60_WEEK
    used: Always, replacing any existing value in session state

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  server-side-condition: 
    type: Item is NOT NULL
    item: P60_WEEK

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_H ====================================
  id: 58990481812299704231
  identification: 
    name: P60_H
    type: Hidden

  settings: 
    value-protected: false

  layout: 
    sequence: 50
    region: '{items}' # 106623657478402405520
    position: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_MODE =================================
  id: 58990482283542704232
  identification: 
    name: P60_MODE
    type: Hidden

  settings: 
    value-protected: false

  layout: 
    sequence: 60
    region: '{items}' # 106623657478402405520
    position: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_EASY =================================
  id: 58990482603233704232
  identification: 
    name: P60_EASY
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 70
    region: '{items}' # 106623657478402405520
    position: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: SQL Query (return single value)
    sql-query: |
      select name
          from wmg_courses_v
         where course_id in (
            select distinct course_id
              from wmg_rounds 
             where week = :P60_WEEK 
          )
         and course_mode = 'E'
    used: Always, replacing any existing value in session state

  default: 
    type: Static
    static-value: Easy Course

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_HARD =================================
  id: 58990483056463704232
  identification: 
    name: P60_HARD
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 80
    region: '{items}' # 106623657478402405520
    position: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: SQL Query (return single value)
    sql-query: |
      select name
          from wmg_courses_v
         where course_id in (
            select distinct course_id
              from wmg_rounds 
             where week = :P60_WEEK 
          )
         and course_mode = 'H'
    used: Always, replacing any existing value in session state

  default: 
    type: Static
    static-value: Hard Course

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

buttons: 
- # ====== Button: ABOUT =======================================
  id: 207034433006404
  identification: 
    button-name: ABOUT
    label: About the points

  layout: 
    sequence: 10
    region: Week &P60_WEEK. Results # 108296150341164485780
    position: EDIT
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text with Icon # 46986653123744702471
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--mobileHideLabel
    - t-Button--iconRight
    icon: fa-question-circle-o

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:20:&SESSION.::&DEBUG.:20:P20_NOTE_TYPE:POINTS'
      page: 20 # About/Rules
      clear-cache: 20
      values: 
        p20_note_type: POINTS

    warn-on-unsaved-changes: Do Not Check

- # ====== Button: VERIFY_RESULTS ==============================
  id: 669502916503521
  identification: 
    button-name: VERIFY_RESULTS
    label: Verify Results

  layout: 
    sequence: 40
    region: '{items}' # 106623657478402405520
    position: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 3
    alignment: Left center

  appearance: 
    button-template: Text with Icon # 46986653123744702471
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--large
    - t-Button--simple
    - t-Button--iconLeft
    - t-Button--gapTop
    icon: fa-exchange

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:70:&SESSION.::&DEBUG.:70:P70_WEEK:&P60_WEEK.'
      page: 70 # Upload Verification Scores
      clear-cache: 70
      values: 
        p70_week: '&P60_WEEK.'

    warn-on-unsaved-changes: Do Not Check

  security: 
    authorization-scheme: Contribution Rights # 46986682878463702496

- # ====== Button: DOWNLOAD ====================================
  id: 24442381510936124331
  identification: 
    button-name: DOWNLOAD
    label: Download Detailed Results

  layout: 
    sequence: 30
    region: '{items}' # 106623657478402405520
    position: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 3
    alignment: Left center

  appearance: 
    button-template: Text with Icon # 46986653123744702471
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--large
    - t-Button--simple
    - t-Button--iconLeft
    - t-Button--gapTop
    icon: fa-download-alt

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:62:&SESSION.::&DEBUG.:62:P62_WEEK:&P60_WEEK.'
      page: 62 # Results Download
      clear-cache: 62
      values: 
        p62_week: '&P60_WEEK.'

    warn-on-unsaved-changes: Do Not Check

  security: 
    authorization-scheme: Contribution Rights # 46986682878463702496

dynamic-actions: 
- # ====== Dynamic Action: Highlight Player ====================
  id: 4007760412738094
  identification: 
    name: Highlight Player

  execution: 
    sequence: 30

  when: 
    event: EVENT.EVENT.FAMEWORK.APEXAFTERREFRESH
    selection-type: Region
    region: Week &P60_WEEK. Results # 108296150341164485780

  execution: 
    event-scope: Static
    type: Immediate

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 4007832325738095
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: $(".mark").parents("tr").addClass("mark")

    execution: 
      sequence: 10
      event: Highlight Player # 4007760412738094
      fire-when-event-result-is: True
      fire-on-initialization: true

- # ====== Dynamic Action: Hoist Classes to TD =================
  id: 2316753045247093645
  identification: 
    name: Hoist Classes to TD

  execution: 
    sequence: 10

  when: 
    event: EVENT.EVENT.FAMEWORK.APEXAFTERREFRESH
    selection-type: Region
    region: Week &P60_WEEK. Results # 108296150341164485780

  execution: 
    event-scope: Static
    type: Immediate

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 2316753113317093646
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("td .points").each(
          function(){
            var $el = $(this),
                c = $el.attr("class");
        
            $el.parent("td").addClass(c);
          }
        )

    execution: 
      sequence: 10
      event: Hoist Classes to TD # 2316753045247093645
      fire-when-event-result-is: True
      fire-on-initialization: true

- # ====== Dynamic Action: Reload on Change ====================
  id: 40380892837518957246
  identification: 
    name: Reload on Change

  execution: 
    sequence: 20

  when: 
    event: EVENT.EVENT.BROWSER.CHANGE
    selection-type: Item(s)
    item(s): 
    - P60_WEEK

  execution: 
    event-scope: Static
    type: Immediate

  actions: 
  - # ====== Action: Submit Page =================================
    id: 40380892983400957247
    identification: 
      action: Submit Page

    settings: 
      request-/-button-name: REFRESH
      show-processing: true

    execution: 
      sequence: 10
      event: Reload on Change # 40380892837518957246
      fire-when-event-result-is: True
      fire-on-initialization: false

computations: 
- # ====== Computation: P60_TOTAL_WEEKS ========================
  id: 3472347411873698
  identification: 
    item-name: P60_TOTAL_WEEKS

  execution: 
    sequence: 10
    point: Before Regions

  computation: 
    type: SQL Query (return single value)
    sql-query: |
      select count(distinct week)
      from  wmg_rounds
      

processes: 
- # ====== Process: Init =======================================
  id: 4007472298738091
  identification: 
    name: Init
    type: Execute Code

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      begin
       if :P60_WEEK is null then
          select week
            into :P60_WEEK
            from wmg_tournament_sessions_v
           where tournament_session_id = :G_CURRENT_SESSION_ID;
       end if;
      
           select prefix_tournament
            into :P60_TOURNAMENT
            from wmg_tournament_sessions_v
           where tournament_session_id = :G_CURRENT_SESSION_ID;
      
      exception
      when NO_DATA_FOUND then
       null;
      end;
      
      

  execution: 
    sequence: 10
    point: Before Header
    run-process: Once Per Page Visit (default)

